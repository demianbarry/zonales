#summary Proceso de migración a Joomla 1.7.1

= Introducción =

Con el objetivo de estabilizar la instalación de Joomla en producción se comienza el proceso de migración a Joomla 1.7.1

= Proceso =

El proceso se desarrolla ordenadamente partiendo de una instalación fresca de Joomla 1.7.1 y agregando las extensiones, librerías y demás componentes necesarios.

== Instalación ==

Previo a la instalación de Joomla 1.7.1 se realizó una copia de la instancia de *test* de Zonales. 
A continuación se utilizó la extensión [http://redcomponent.com/jupgrade jUpgrade] para llevar los componentes _core_ de esta nueva copia a la nueva versión pero sobre todo para tener una versión actualizada de los datos de la base de datos.
Finalmente, se descargó el paquete full de Joomla 1.7.1, se limpió la carpeta de la instancia nueva, se descomprimió Joomla 1.7.1 en dicha carpeta y se realizó el proceso estándar de instalación.


Instalacion de template Z20, componente com_zonales, com_eqzonales.

Correcion de la variable mainframe, por JFactory::getApplication(), antes era golbal ahora hay que setearla.Reemplazo masivo:

'$mainframe=JFactory::getApplication(); global ' -lHIRZ /var/www/html/zonales-nuevo/ | xargs -0 -l sed -i 's/$mainframe=JFactory::getApplication(); global /\$mainframe=JFactory::getApplication();/g'

Correcion de variable option, antes era golbal ahora hay que setearla, $option = JRequest::getCMD('option');


Instalacion de mod_menuzonales.

=== com_zonales ===

Vista en la red, archivo default.php en version de moootools existente no tiene sentido la funcion setHTML, se reemplaza por set('html',html):

grep 'setHTML(' -lHIRZ /var/www/html/zonales-nuevo/components/com_zonales/views/enlared/tmpl/default.php | xargs -0 -l sed -i 's/setHTML(/set("html"/g'

  * Se deben unificar imagenes.

  * Se deben parametrizar datos de conexión a Solr.
