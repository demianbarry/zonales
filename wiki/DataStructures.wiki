#summary One-sentence summary of this page.

= Estructuras de datos =

Se detallan en esta sección las estructuras de datos diseñadas para persistir las entidades utilizadas en Zonales.


== Configuraciones de Fuentes de Extracción ==

{{{
//Configuraciones de fuentes de extracción
{
    "name" : "String",
    "uri" : "String",
    "params" : [
        {
            "name" : "String",
            "required" : true/false //Boolean
        }
    ],
    "plugins" : [
        {
            "class_name" : "String",
            "type" : "String" //Valores posibles por el momento: URLGetter, Publisher
        }
    ],
    "state" : "String" //Valores posibles Generada, Publicada, Despublicada, Anulada
}

}}}

== Tags y Zonas ==

{{{
//Tipos de zonas o tags (similar al field de la estructura anterior
{
    "name" : "String", //Este campo debe ser único
    "parents" : [
        "String" //Nombres de los tipos que son padre del actual
    ],
    "state" : "String"  //Generado, publicado, despublicado, anulado
}

//Zonas
{
    "id" : 9, //Numérico entero. Este campo debe ser único. No es igual al ID que le pone MongoDB
    "name" : "String",
    "parent" : 9, //Numérico, ID de la zona padre
    "type" : "String", //Debe ser el nombre de un tipo de zona existente
    "state" : "String", ////Generado, publicado, despublicado, anulado
    "center_lat" : -34.1125, //Tipo de dato float
    "center_lon" : -64.7445, //Tipo de dato float
    "zoom_level" : 9 //Tipo de datos entero positivo
}

//Tags
{
    "id" : 9, //Numérico entero. Este campo debe ser único. No es igual al ID que le pone MongoDB
    "name" : "String",
    "parent" : 9, //Numérico, ID del tag padre
    "type" : "String", //Debe ser el nombre de un tipo de tag existente
    "state" : "String" ////Generado, publicado, despublicado, anulado
}

//Puntos geográficos
{
    "street_name" : "String",  //Calle
    "street_number" : 9, //Altura, entero positivo
    "longitude" : -34.1125, //Float
    "latitude" : -64.7445, //Float
    "ext_zip_code" : "String"
}
}}}

== Extracciones ==

{{{
{
    "cod" : 9, //Integer
    "msg" : "Mensaje",
    "descripcion" : "Descripción",
    "localidad" : "Localidad",
    "fuente" : "Fuente",
    "tags" : [
        "tag",
        "tag",
        "tag"
    ],
    "uriFuente" : "URI de la fuente",
    "criterios" : [
        {
            "deLosUsuarios" : [
                "usuario",
                "usuario",
                "usuario"
            ]
        },
        {
            "amigosDe" : "Usuario"
        },
        {
            "palabras" : [
                "palabra",
                "palabra",
                "palabra"
            ],
            "siosi" : true/false
        }
    ],
    "noCriterios" : [
        {
            "deLosUsuarios" : [
                "usuario",
                "usuario",
                "usuario"
            ]
        },
        {
            "amigosDe" : "Usuario"
        },
        {
            "palabras" : [
                "palabra",
                "palabra",
                "palabra"
            ],
            "siosi" : true/false
        }
    ],
    "comentarios" : [
        "usuario",
        "usuario",
        "usuario"
    ],
    "incluyeComentarios" : true / false,
    "filtros" : [
        {
            "minShuldMatch" : 9 //Número
        },
        {
            "dispersión" : 9 //Número
        },
        {
            "listaNegraDeUsuarios" : true/false
        },
        {
            "listaNegraDePalabras" : true/false
        },
        {
            "minActions" : 9 //Número
        }
    ],
    "tagsFuente" : true/false,
    "verbatim" : "Consulta original",
    "estado" : "Estado",
    "periodicidad" : 9 //Número que indica en minutos la periodicidad de extracción
    "creado" : "Fecha de creación en milisegundos",
    "creadoPor" : "Usuario que creó la extracción",
    "modificado" : "Fecha de última modificación en milisegundos",
    "modificadoPor" : "Usuario que realizó la última modificación de la extracción",
    "ultimaExtraccionConDatos" : "Fecha en milisegundos de la ultima extracción que trajo resultados",
    "ultimoHitDeExtraccion" : "Fecha en milisegundos del último intento de extracción",
    "ultimoCodigoDeExtraccion" : "Código resultante del último intento de extracción"
}
}}}

== Filtros para las Extracciones ==

{{{
{
    "localidad" : "Localidad",
    "fuente" : "Fuente",
    "tags" : [
        "tag",
        "tag",
        "tag"
    ],
    "estado" : "estado"
    "periodo" : "day" / "week" / "month" / "all"
}
}}}